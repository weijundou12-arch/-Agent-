{
  "$id": "common.json",
  "type": "object",
  "definitions": {
    "RequestMeta": {
      "type": "object",
      "properties": {
        "request_id": { "type": "string" },
        "timestamp": { "type": "string" },
        "tenant_id": { "type": "string" },
        "user_id": { "type": "string" },
        "role": { "type": "string", "enum": ["doctor","nurse","pharmacist","researcher","admin"] },
        "dept": { "type": "string" },
        "trace_id": { "type": "string" }
      },
      "required": ["request_id","timestamp","tenant_id","user_id","role","dept","trace_id"]
    },
    "AuditEvent": {
      "type": "object",
      "properties": {
        "event_type": { "type": "string" },
        "detail": { "type": "object" }
      },
      "required": ["event_type"]
    },
    "Citation": {
      "type": "object",
      "properties": {
        "doc_id": { "type": "string" },
        "section": { "type": "string" },
        "span": { "type": "string" },
        "score": { "type": "number" }
      },
      "required": ["doc_id","section","span"]
    }
  }
}
